final snapshotGodotAndroidLib = "org.godotengine:godot:4.2.0.beta-SNAPSHOT"
final stableGodotAndroidLib = "org.godotengine:godot:4.1.0.stable"

ext {
    versions = [
            gradlePluginVersion     : '7.4.0',
            compileSdk              : 33,
            minSdk                  : 21,
            targetSdk               : 33,
            javaVersion             : JavaVersion.VERSION_17,
            nexusPublishVersion     : '1.3.0',
            kotlinVersion           : '1.7.22',
            coreKtxVersion          : '1.12.0',
            cmakeVersion            : '3.22.1',
    ]

    libraries = [
            godotAndroidLib: snapshotGodotAndroidLib,
    ]
}

// Parse the release version from the gradle project properties (e.g: -Prelease_version=<version>)
ext.getReleaseVersion = { ->
    final String defaultVersion = "2.0.0-dev-SNAPSHOT"

    String releaseVersion = project.hasProperty("release_version") ? project.property("release_version") : defaultVersion
    if (releaseVersion == null || releaseVersion.isEmpty()) {
        releaseVersion = defaultVersion
    }

    if (!releaseVersion.endsWithIgnoreCase("-stable") && !releaseVersion.endsWithIgnoreCase("-snapshot")) {
        releaseVersion += "-SNAPSHOT"
    }

    return releaseVersion
}
